<!DOCTYPE html>
<html lang="en">

<head>
  <script>
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      
      return urlParams.get(param);
    }
    
    /**

 * Run the query parameter extraction on page load and update the page content.

 */
    
    function runOnPageLoad() {
      const queryValue = getQueryParam("query");
      
      if (queryValue !== null) {
        localStorage.setItem("viewW2WII", "poetry");
        
        localStorage.setItem("W2WIICurrentChapter", queryValue);
        
        console.log("Query parameter value:", queryValue); // You can replace this line with any other action
        
        // Update the page content based on the query parameter value
        
        localStorage.setItem("lastTabW2WII", this.lastTabW2WII);
        localStorage.setItem("coverTabW2WIIIsActive", false);
        localStorage.setItem("authorTabW2WIIIsActive", false);
        localStorage.setItem("dedTabW2WIIIsActive", false);
        localStorage.setItem("chapterTabW2WIIIsActive", true);
        
        document.addEventListener("DOMContentLoaded", function() {
          var integrationTab = document.getElementById("pills-integration-tab");
          
          if (integrationTab) {
            integrationTab.click();
          } else {
            console.error("Element with ID 'pills-integration-tab' not found.");
          }
        });
      }
    }
    
    runOnPageLoad();
  </script>
  
  <!--===== Required meta tags =====-->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="author" content="Howard Frith Hilton" />
  <meta name="description" content="West to West Collection II" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <meta property="og:url" content="" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="West to West Collection II" />
  <meta property="og:description" content="West to West Collection II" />
  <meta property="og:image" content="" />
  
  <!--===== Title =====-->
  <title>West to West Collection II</title>
  
  <!--===== Favicon =====-->
  <link rel="shortcut icon" href="../../images/favicon.png" />
  
  <!--===== Google fonts =====-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&family=Jost:wght@300;400;500;600;700;800;900&display=swap" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet" />
  <!-- font-awesome-icons -->
  <script src="https://kit.fontawesome.com/c7fbb1b458.js" crossorigin="anonymous"></script>
  
  <!--===== Global bootstrap required css =====-->
  <link rel="stylesheet" href="../../css/bootstrap/bootstrap.min.css" />
  <!--===== Global styles including: Font Icons, Plugins, etc =====-->
  <link rel="stylesheet" type="text/css" href="../../css/font-awesome/all.min.css" />
  <link rel="stylesheet" href="../../css/feather/iconfont.css" />
  <link rel="stylesheet" href="../../css/pe-icon-stroke/Pe-icon-7-stroke.css" />
  <link rel="stylesheet" href="../../css/simple-line-icons/simple-line-icons.css" />
  <link rel="stylesheet" href="../../css/themify-icons/themify-icons.css" />
  <link rel="stylesheet" href="../../css/pe-icon-stroke/Pe-icon-7-stroke.css" />
  <link rel="stylesheet" href="../../css/swiper/swiper.min.css" />
  <link rel="stylesheet" href="../../css/magnific-popup/magnific-popup.css" />
  <!--===== Main theme css =====-->
  <link rel="stylesheet" href="../../css/style.css" />
  <style>
    .popup-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 9999;
    }
    
    .image-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
    
    .image-container img {
      width: 85vw;
      /* Increased width */
      height: auto;
      /* Maintain aspect ratio */
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      object-fit: contain;
      /* Ensure image fits within container */
    }
    
    .highlighted {
      animation: bubble 0.5s ease-in-out;
      color: #1d5457;
      font-size: 200%;
      font-weight: 900;
    }
    
    @keyframes bubble {
      0% {
        transform: scale(1);
      }
      
      50% {
        transform: scale(1.2);
      }
      
      100% {
        transform: scale(1);
      }
    }
    
    .pauseHighlight {
      color: #1d5457;
      font-size: 150%;
      font-weight: 300;
    }
    
    .disabled {
      pointer-events: none;
      opacity: 0.5;
    }
    
    #poetry-card-outer {
      font-family: "Architects Daughter", cursive;
    }
    
    #poetry-card-outer p {
      font-size: 28px;
      line-height: 30px;
      text-align: center;
    }
    
    #poetry-card-outer h1 {
      font-size: 30px;
      text-align: center;
    }
    
    #poetry-card-outer span {
      line-height: 1.2;
      overflow-wrap: break-word;
      font-family: "Architects Daughter", cursive;
      padding: 20px;
      box-sizing: border-box;
    }
  </style>
  
  <style>
    #text-container {
      width: 100%;
      border: 1px solid #ccc;
      padding: 20px;
      margin-bottom: 20px;
    }
    
    #canvas-container {
      margin-top: 20px;
      display: none;
    }
    
    canvas {
      border: 1px solid #ccc;
    }
    
    
    #fab {
      position: absolute;
      z-index: 1000;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    #fab-options {
      display: none;
      position: absolute;
      z-index: 1001;
      background-color: #fff;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    #fab-options button {
      display: block;
      width: 100%;
      padding: 10px;
      border: none;
      background: none;
      cursor: pointer;
      text-align: left;
    }
    
    #fab-options button:hover {
      background-color: #f0f0f0;
    }
  </style>
  
</head>

<body class="stokes-wrapper" id="ctrlArea" v-cloak>
  <!--========== 
	Start of loader ==========-->
  
  <div class="template-loader">
    <div class="loaderCenter">
      <div class="book">
        <div class="book__pg-shadow"></div>
        <div class="book__pg"></div>
        <div class="book__pg book__pg--2"></div>
        <div class="book__pg book__pg--3"></div>
        <div class="book__pg book__pg--4"></div>
        <div class="book__pg book__pg--5"></div>
      </div>
    </div>
  </div>
  
  <!--========== 
	End of loader ==========-->
  
  
  <!--=========
    Start of  cookie modal notification section ==========-->
  <div class="modal-subscribe">
    <!-- Modal -->
    <div class="modal fade" data-bs-backdrop="static" id="myModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-body p-0 bg-secondary rounded">
            <div class="p-5 text-center">
              <img class="img-fluid px-5" src="/images/svg/cookie.svg" alt="" />
              <h3>Cookies</h3>
              <p class="text-dark">Managed by <b>F</b>rith<b> N</b>ightswan<b> E</b>nterprises</p>
              <a href="/cookies.html" class="text-primary-gradient fw-bold">Our policy</a>
              <div class="d-grid mt-5">
                <button type="button" class="btn btn-white rounded" data-bs-dismiss="modal" @click="store.acceptCookieUse()">
                  Accept
                </button>
                <p class="text-dark mt-4">
                  Coupled with
                  <svg class="logo" viewBox="0 0 128 128" width="24" height="24" data-v-53ccc107="">
                    <path fill="#42b883" d="M78.8,10L64,35.4L49.2,10H0l64,110l64-110C128,10,78.8,10,78.8,10z" data-v-53ccc107=""></path>
                    <path fill="#35495e" d="M78.8,10L64,35.4L49.2,10H25.6L64,76l38.4-66H78.8z" data-v-53ccc107=""></path>
                  </svg>
                  <a href="https://github.com/vuejs/petite-vue" target="_blank" style="color: #42b883;"><b>petite-vue</b></a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--========== 
          End of cookie modal notification section ==========-->
  <!--==========-->
  
  <header class="header">
    <!--===== Start of navbar =====-->
    <nav class="navbar navbar-light navbar-expand-lg navbar-default">
      <div class="container-fluid">
        <!--===== Start of logo =====-->
        <a class="navbar-brand" href="/"><img class="logo" src="/images/logo.png" alt="Frith Hilton Logo" /></a>
        <!--===== End of logo =====-->
        
        <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="icon-bar top-bar mt-0"></span>
          <span class="icon-bar middle-bar"></span>
          <span class="icon-bar bottom-bar"></span>
        </button>
        
        <!--===== Start of nav =====-->
        <div class="collapse navbar-collapse justify-content-center" id="navbarCollapse">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/"><span class="text-line"> Home </span></a>
            </li>
            <li class="nav-item dropdown active">
              <a @click="store.goToPublished" class="nav-link dropdown-toggle" href="#" id="navbar-pages" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="text-line"> Publications</span>
              </a>
              
              <!--<ul class="dropdown-menu" aria-labelledby="navbar-pages">
                <div class="mb-3 mt-3">
                  <a href="#">
                    Frith Hilton Collections
                  </a>
                </div>

                <li class="dropdown-submenu">
                  <a class="dropdown-item dropdown-toggle" href="#"><span class="text-line"> Collections I — III </span></a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item" href="../published/poetry/collection-I.html"><span class="text-line">
                          Collection I
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="../published/poetry/collection-II.html"><span class="text-line">
                          Collection II
                        </span></a>
                    </li>
                    <li class="dropdown-submenu">
                      <a class="dropdown-item dropdown-toggle" href="#"><span class="text-line"> Collection III </span></a>
                      <ul class="dropdown-menu">
                        <li>
                          <a class="dropdown-item" href="../published/poetry/collection-III.html"><span class="text-line">
                              Valentine Edition
                            </span></a>
                        </li>
                        <li>
                          <a class="dropdown-item" href="../published/poetry/collection-III-ii.html"><span class="text-line">
                              Original Edition
                            </span></a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li class="dropdown-submenu">
                  <a class="dropdown-item dropdown-toggle" href="#"><span class="text-line"> Collections IV — VI </span></a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item" href="../published/poetry/collection-IV.html"><span class="text-line">
                          Collection IV
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="../published/poetry/collection-V.html"><span class="text-line">
                          Collection V
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="../published/poetry/collection-VI.html"><span class="text-line">
                          Collection VI
                        </span></a>
                    </li>
                  </ul>
                </li>
                <li class="dropdown-submenu">
                  <a class="dropdown-item dropdown-toggle" href="#"><span class="text-line"> Collections VII — IX </span></a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-VII.html"><span class="text-line">
                          Collection VII
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-VIII.html"><span class="text-line">
                          Collection VIII
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-IX.html"><span class="text-line">
                          Collection IX
                        </span></a>
                    </li>
                  </ul>
                </li>
                <li class="dropdown-submenu">
                  <a class="dropdown-item dropdown-toggle" href="#"><span class="text-line"> Collections X — XII </span></a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-X.html"><span class="text-line">
                          Collection X
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-XI.html"><span class="text-line">
                          Collection XI
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-XII.html"><span class="text-line">
                          Collection XII
                        </span></a>
                    </li>
                  </ul>
                </li>
                <li class="dropdown-submenu">
                  <a class="dropdown-item dropdown-toggle" href="#"><span class="text-line"> Collections XIII — XIV </span></a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-XIII.html"><span class="text-line">
                          Collection XIII
                        </span></a>
                    </li>
                    <li>
                      <a class="dropdown-item" href="published/poetry/collection-XIV.html"><span class="text-line">
                          Collection XIV
                        </span><span class="badge bg-primary" style="font-size: 0.55em">New</span></a>
                    </li>
                  </ul>
                </li>
                <div class="mb-3 mt-3">
                  <a href="#">
                    Non-Fiction
                  </a>
                </div>

                <li>
                  <a class="dropdown-item" href="published/poetry/bury-me-in-1965.html"><span class="text-line">
                      Bury me in 1965
                    </span></a>
                </li>

                <li>
                  <a class="dropdown-item" href="published/journal/a-life-worth-living.html"><span class="text-line">
                      A Life Worth Living (Vision @ 2020)
                    </span></a>
                </li>
              
              </ul>-->
            </li>
            
            <li class="nav-item">
              <a class="nav-link" href="../../pages/upcoming.html"><span class="text-line"> Upcoming Poetry</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../pages/freshPlayer.html"><span class="text-line"> Fresh Player </span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../pages/who-is-frith-hilton.html"><span class="text-line"> Who is Frith Hilton? </span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../cookies.html"><span class="text-line"> Cookies Policy </span></a>
            </li>
          </ul>
        </div>
        <!--===== End of nav =====-->
      </div>
    </nav>
    <!--===== End of navbar =====-->
  </header>
  
  <!--========== 
        End of header ==========-->
  
  <!--========== 
        End of Sidebar ==========-->
  <section class="position-relative slice-ptb">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="mb-0">
            <a id="designer" href="https://leondev.com.ng" target="_blank" v-if="store.checkLocation()">
              <img class="img-fluid" src="../../images/ads/designedBySamsungS8.png" alt="" />
            </a>
          </div>
          <div class="mb-5">
            <div id="ad-top"></div>
          </div>
          
          <div class="mb-5">
            <a target="_blank" href="https://lornamurray.com.au/">
              <img class="img-fluid justify-content-center" src="../../images/ads/lornamurrayAd1.gif" alt="Lorna Murray" />
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="position-relative slice-ptb">
    <div class="top-separator">
      <img class="img-fluid" src="../../images/separator/brush.svg" alt="" />
    </div>
    <div class="slice-ptb mt-n5">
      <div class="container">
        <div class="row text-center justify-content-center">
          <div class="col-lg-9 col-xl-8">
            <h1 class="text-nightswan-gradient mb-5">
              West to West Collection
              <span class="text-nightswan-gradient"> II </span>
            </h1>
            <h5 style="color: #010521">
              <a class="icon link mt-7 fw-bold" href="https://paystack.com/pay/w2wii">
                <span>Buy epub</span>
              </a>
            </h5>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom-divider mt-n5">
      <img class="img-fluid" :src="'../../images/separator/brush.svg'" alt="" />
    </div>
  </section>
  
  <section class="position-relative slice-ptb">
    <div class="container">
      <button class="btn btn-naked btn-icon-right" href="#!" v-effect="if
        (store.currentChapter == 0) $el.focus()"></button>
      <div class="row align-items-center mt-6">
        <h2 class="mb-6 text-center">Contents</h2>
        
        <div class="col-12">
          <ul class="nav nav-pills nav-border-wide justify-content-center mb-3" id="pills-tab-07" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="pills-trekking-tab" data-bs-toggle="pill" data-bs-target="#pills-trekking" type="button" role="tab" aria-controls="pills-trekking" aria-selected="true" @click="store.setCoverW2WIAsTab()">
                Cover
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-analysis-tab" data-bs-toggle="pill" data-bs-target="#pills-analysis" type="button" role="tab" aria-controls="pills-analysis" aria-selected="false" @click="store.setAuthorW2WIAsTab()">
                Author's Note
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-investment-management-11-tab" data-bs-toggle="pill" data-bs-target="#pills-investment-management-11" type="button" role="tab" aria-controls="pills-investment-management-11" aria-selected="false" @click="store.setDedW2WIAsTab()">
                Dedication & Acknowledgements
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="pills-integration-tab" data-bs-toggle="pill" data-bs-target="#pills-integration" type="button" role="tab" aria-controls="pills-integration" aria-selected="false" @click="store.setChaptersW2WIAsTab()">
                Chapters
              </button>
            </li>
          </ul>
          <div class="tab-content mt-5" id="pills-tabContent-07">
            <div class="tab-pane fade show active" id="pills-trekking" role="tabpanel" aria-labelledby="pills-trekking-tab">
              <div class="row">
                <div class="col-lg-6">
                  <img class="img-fluid" src="../../images/collections/W2W/2/cover.jpg" alt="West to West Collection II" />
                  <hr class="my-5" />
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="pills-analysis" role="tabpanel" aria-labelledby="pills-analysis-tab">
              <div class="row justify-content-center">
                <div class="col-lg-6">
                  <div v-html="store.pageResources().authorsNote" class="mt-4 me-4 ms-4"></div>
                  <hr class="my-5" />
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="pills-investment-management-11" role="tabpanel">
              <div class="row">
                <div class="col-lg-6">
                  <h4 class="text-center">Dedication</h4>
                  <div v-html="store.pageResources().dedication" class="mt-4 me-4 ms-4"></div>
                </div>
                <div class="col-lg-5 mt-5">
                  <h4 class="text-center">Acknowledgements</h4>
                  <div v-html="store.pageResources().acknowledgements" class="mt-4 me-4 ms-4"></div>
                </div>
              </div>
              <hr class="my-5" />
            </div>
            <div class="tab-pane fade" id="pills-integration" role="tabpanel" aria-labelledby="pills-integration-tab">
              <div class="row justify-content-center" id="reading">
                <div class="col-lg-6">
                  <div>
                    <h3 class="mt-3 mb-5 text-center"><strong>Tomorrow Changes Not</strong></h3>
                  </div>
                  
                  <hr class="my-5" />
                  <!--========== 
          Beginning of chapter titles ==========-->
                  <div v-for="(title, index) in
                      store.pageResources().chapterTitles" :key="index">
                    <div v-if="index !== 0 && store.getPageState() ==
                        'chapters'" @click="store.setPageState(index)" :id="index">
                      <!--===== Start of Title =====-->
                      <div class="mb-5 text-center">
                        <h2 class="col-4">
                          <span class="hedding-svg">{{store.pageResources().convertIndex(index)}}</span>
                        </h2>
                        <button class="btn btn-naked btn-icon-right" href="#!" v-effect="if (store.currentChapter ==
                            index ) $el.focus()"></button>
                        <h5 class="mt-3">{{title}}</h5>
                        <span v-show="store.currentChapter == index" class="title-separator"></span>
                      </div>
                      
                      <!--===== End of Title =====-->
                      <hr class="my-4" />
                    </div>
                  </div>
                  <!--========== 
          End of chapter titles ==========-->
                  
                  <!--========== 
          Beginning of chapter content ==========-->
                  <div v-if="store.currentChapter !== 0 &&
                      store.getPageState() ==
                      'poetry'">
                    <!--===== Start of Title =====-->
                    <div class="mb-5 text-center">
                      <h2 class="col-4 fw-bold mb-4">
                        <span id="poetryIndex" class="hedding-svg">{{store.pageResources().convertIndex(store.currentChapter)}}</span>
                      </h2>
                      
                      <div id="buttonHold">
                        <div id="audioButtonContainer">
                          <div id="audioButton" :class="['round-button', { 'audioInactive': !store.audioIsPlaying, 'audioActive': store.audioIsPlaying, 'audioPause': store.audioIsPlaying }]" @click="store.playPoetry()">
                            <i id="audioSwitcher" :class="store.audioIsPlaying ? 'fa-solid fa-pause' : 'fa-solid fa-play'"></i>
                          </div>
                          <div class="color-wave"></div>
                        </div>
                      </div>
                      
                      <audio id="audioElement"></audio>
                      
                      <div id="utilityButtons" class="social-icons social-text-small icon-colored mb-7 mt-7">
                        <!-- <a @click="store.shareToFacebook()" :class="{ 'disabled': store.isDisabled }" class="icon facebook" href="#!" id="shareToFacebookBtn">
                          <i class="fab fa-facebook-f"></i>
                          <span>Share</span>
                        </a>-->
                        
                        <a @click="store.shareToX()" :class="{ 'disabled': store.isDisabled }" class="icon twitter" id="shareToXBtn">
                          <i class="fa-brands fa-x"></i>
                          <span>Share</span>
                        </a>
                        <a @click="store.copyURL()" :class="{ 'disabled': store.isDisabled }" class="icon link" id="copyURLBtn">
                          <i class="fas fa-link" id="copyURLIcon"></i>
                          <span id="CopyURLText">{{store.CopyURLText}}</span>
                        </a>
                        <a @click="store.shareToWhatsApp()" :class="{ 'disabled': store.isDisabled }" class="icon link" href="#!" id="shareToWhatsAppBtn">
                          <i class="fab fa-whatsapp"></i>
                          <span>WhatsApp</span>
                        </a>
                        <a @click="store.createPoetryCard()" :class="{ 'disabled': store.isDisabled }" class="icon link" href="#!" id="sharePoetryCard">
                          <i class="fas fa-image"></i>
                          <span>Card</span>
                        </a>
                      </div>
                      
                      <div v-if="store.poetryCardDownloadDiv" id="download-cards" class="mb-5" style="font-size: 15px;">
                        <p><span class="fw-bold"> {{store.chapterTitle}}</span> poetry {{ store.downloadLinks.length === 1 ? 'card' : 'cards' }}</p>
                        <a v-for="(link, index) in store.downloadLinks" :key="index" class="icon link" style="padding: 0 10px;" :href="link.href">
                          <i class="fas fa-image"></i>
                          <span>Card {{ index + 1 }}</span>
                        </a>
                      </div>
                      <h5 id="chapterTitle" class="fw-bold">{{store.chapterTitle}}</h5>
                      
                      <div id="htmlContent" class="mt-4 me-4 ms-4 htmlContent" v-html="store.getChapterContent()">
                      </div>
                      
                      <canvas id="canvas" width="1080" height="1350" style="display: none;"></canvas>
                      
                      
                      
                    </div>
                    <!--===== End of Title =====-->
                    <hr class="my-5" />
                    
                    <!--===== Go back  =====-->
                    <div class="col-lg-3 col-sm-6">
                      <p @click="store.goBack()" class="btn btn-naked-wrap go-back-btn">
                        <i class="feather icon-arrow-left"></i>
                        <span> Chapters </span>
                      </p>
                    </div>
                    <!--===== End Go back  =====-->
                  </div>
                  
                  <!--========== 
          End of chapter content ==========-->
                </div>
              </div>
            </div>
          </div>
          <div class="mb-5">
            <div id="ad-bottom"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!--  <div id="poetry-card-outer" style="
  width: 1080px;
  height: 1350px;
  background-image: url('../../../poetryBGStock.png');
  background-size: cover;
  background-position: center;
  
  top: -9999px;
  left: -9999px;
  display: flex;
  justify-content: center;
  align-items: center;
">
    <div id="poetry-card-inner" style="
    width: 1080px;
    height: 1080px;
    margin: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
  ">
      <h1>
        {{store.chapterTitle}}
      </h1>
      <div v-html="store.getChapterContent()">
        
      </div>
    </div>
  </div>-->
  
  <!--========== 
  Start of bottom page  ==========-->
  
  <section class="py-5 bg-pink-gradient">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 text-center">
          <h3 class="text-white" id="some-id">
            <u class="typer text-warning" data-words="writing,making music," data-delay="100" data-deletedelay="1000" style="color: black;"></u>
            often.
          </h3>
        </div>
      </div>
    </div>
  </section>
  
  <!--========== 
  End of bottom page  ==========-->
  
  <!--========== 
    Map section ==========-->
  
  <section id="contact-us" class="position-relative">
    <div class="google-map">
      <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3962.629367104963!2d3.2316144785641425!3d6.692744576034127!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x103b996ae457d243%3A0x63b338921b72fdf9!2sFrith%20Nightswan%20Enterprises!5e0!3m2!1sen!2sng!4v1683451340692!5m2!1sen!2sng" width="800" height="600" style="border: 0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
    
    <!--========== 
    End of map section ==========-->
  </section>
  <!--========== 
  Start of footer section ==========-->
  
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 position-relative mb-5 mb-sm-0">
          <div class="position-absolute top-0 start-0 slice-pt ps-5 ps-lg-8"></div>
        </div>
        <div class="col-lg-6">
          <!--===== Start of footer item =====-->
          <div class="text-center slice-ptb">
            <h4 class="mb-4 mt-5 mt-lg-0">Time Open</h4>
            <div class="mb-4">
              <h5>Monday to Friday</h5>
              <p>8:30 am to 5 pm</p>
            </div>
            
            <h4 class="mb-4">Address</h4>
            <div class="mb-4">
              <h5>11, Akindenoh street Ota, Ogun State.</h5>
              <p><a href="mailto:hello@frithhilton.com.ng">Send Frith Hilton Mail</a></p>
            </div>
            <h2 class="text-green mb-0 mt-5"><i class="feather icon-phone-call"></i> (234) 815 813 2408</h2>
          </div>
          <!--===== End of footer item =====-->
        </div>
      </div>
    </div>
  </footer>
  
  <footer class="footer bg-black slice-pt">
    <div class="container">
      <div class="row">
        <div class="col-sm-6 col-lg-4 offset-lg-2">
          <h2 class="text-white display-2 mb-4">
            <span class="typer text-white" id="some-id" data-words="Catch up!" data-delay="100"> </span>
          </h2>
          
          <div class="social-icons icons-xl mt-5">
            <a class="icon text-white" href="https://youtube.com/@frithhilton17?si=8pEsa1wf1KxLNvBK" target="_blank">
              <i class="fab fa-youtube"></i>
            </a>
            <a class="icon text-white" href="https://www.tiktok.com/@frithhilton17" target="_blank">
              <i class="fab fa-tiktok"></i>
            </a>
            <a class="icon text-white" href="https://www.twitter.com/frithhilton17" target="_blank">
              <i class="fab fa-x-twitter"></i>
            </a>
            <a class="icon text-white" href="https://www.instagram.com/frithhilton17" target="_blank">
              <i class="fab fa-instagram"></i>
            </a>
          </div>
        </div>
      </div>
      <hr class="mt-7" />
      <div class="row text-center">
        <div class="col-12">
          <div class="developer-footer mb-2">
            <a href="https://leondev.com.ng" target="_blank"><img src="/images/Leondev.png" alt="lEoNDɘv" width="80" height="80" /></a>
          </div>
          <p class="text-white mt-3 mb-4">© <span id="getFullYear"></span> <b>|</b> Managed by <span class="text-pink-gradient"> Frith Nightswan Enterprises</span></p>
        </div>
      </div>
    </div>
  </footer>
  
  <!--========== 
  End of footer section ==========-->
  
  <!--========== 
        Start of back to top section ==========-->
  
  <div class="go-top">
    <p class="go-top-text">Scroll to top <i class="fas fa-long-arrow-alt-right ps-2"></i></p>
  </div>
  
  <!--========== 
	End of back to top section ==========-->
  <div class="col-lg-3 col-sm-6">
    <p @click="window.location.href='../search.html'" class="btn btn-naked-wrap search-btn"><i class="fas fa-search"></i> <span> search </span></p>
  </div>
  
  
  
  <p id="poetry-card-btn" onclick="generateImage(window.getSelection().toString())" class="btn btn-naked-wrap poetryCard-btn" style="display: none;">
    <i class="fas fa-image"></i>
    <span> Poetry card </span>
  </p>
  
  <canvas id="canvas" width="1080" height="1080" style="display: none;"></canvas>
  
  <!-- Popup container -->
  <div class="popup-container" id="popup-container">
    <!-- Image container -->
    <div id="image-container" class="image-container">
      <img src="../../images/ads/rrcs4.gif" alt="Rick Ross Car Show IV" />
    </div>
  </div>
  
  <!-- Popup container -->
  <div class="popup-container" id="popup-container-vii">
    <!-- Image container -->
    <div id="image-container-vii" class="image-container">
      <img src="../../images/ads/Orebella.gif" alt="Popup Image vii" />
    </div>
  </div>
  
  <div class="popup-container" id="popup-container-iii">
    <!-- Image container -->
    <div id="image-container-iii" class="image-container">
      <img src="../../images/ads/wildflower.gif" alt="Popup Image iii" />
    </div>
  </div>
  
  <div class="popup-container" id="popup-container-iv">
    <!-- Image container -->
    <div id="image-container-iv" class="image-container">
      <img src="../../images/ads/cosmic.gif" alt="Popup Image iv" />
    </div>
  </div>
  
  <div class="popup-container" id="popup-container-v">
    <!-- Image container -->
    <div id="image-container-v" class="image-container">
      <img src="../../images/ads/khy-wardrobe.gif" alt="Popup Image v" />
    </div>
  </div>
  
  <div class="popup-container" id="popup-container-vi">
    <!-- Image container -->
    <div id="image-container-vi" class="image-container">
      <img src="../../images/ads/skims.gif" alt="Popup Image vi" />
    </div>
  </div>
  
  <div class="popup-container" id="popup-container-ii">
    <!-- Image container -->
    <div id="image-container-ii" class="image-container">
      <img src="../../images/ads/lv1.gif" alt="Louis Vuitton" />
    </div>
  </div>
  
  <!--========== 
	Start of Javascript ==========-->
  
  <!--===== Global required js =====-->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  <script src="../../js/jquery-3.6.0.min.js"></script>
  <script src="../../js/popper.min.js"></script>
  <script src="../../js/bootstrap/bootstrap.min.js"></script>
  
  <!--===== Global script: js libraries and plugins =====-->
  <script src="../../js/appear/jquery.appear.js"></script>
  <script src="../../js/swiper/swiper.min.js"></script>
  <script src="../../js/magnific-popup/jquery.magnific-popup.min.js"></script>
  <script src="../../js/isotope/isotope.pkgd.min.js"></script>
  <script src="../../js/typer/typer.js"></script>
  <script src="../../js/firewall.js"></script>
  <script src="../../js/jarallax/jarallax.min.js"></script>
  <script src="../../js/mCustomScrollbar/jquery.mCustomScrollbar.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numbered/1.1.0/index.min.js" integrity="sha512-UQKbSOyUPIxk4a5/TIcqKUfl2JX0b1Rgq16BgvZbIWa7g5g3Rl/RXzFJFt2iu9LzDUpqDbcaak2ifjW887SxPw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="../../js/W2WII.js"></script>
  <script src="../../js/collectionAds.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <script>
    $(document).ready(function() {
      // Function to check if it's the first load in the hour
      function isFirstLoadInHour() {
        const currentTime = new Date().getTime();
        const storedTime = localStorage.getItem("popupLoadTime");
        
        if (!storedTime || currentTime - storedTime >= 0) {
          // 0ms = 0 minutes
          localStorage.setItem("popupLoadTime", currentTime);
          return true;
        }
        
        return false;
      }
      
      // Open popup on first load in the hour with 5-second delay
      if (isFirstLoadInHour()) {
        setTimeout(function() {
          $("#popup-container").fadeIn();
        }, 5000); // 5000ms = 5 seconds
      }
      
      // Close popup on close button click, escape key press, or outside click
      $("#close-btn").on("click", function() {
        $("#popup-container").fadeOut();
      });
      
      $(document).keyup(function(e) {
        if (e.key === "Escape") {
          $("#popup-container").fadeOut();
        }
      });
      
      // Close popup when clicking outside the image
      $("#popup-container").on("click", function(e) {
        if ($(e.target).is("#popup-container") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      $("#popup-container-ii").on("click", function(e) {
        if ($(e.target).is("#popup-container-ii") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      $("#popup-container-iii").on("click", function(e) {
        if ($(e.target).is("#popup-container-iii") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      $("#popup-container-iv").on("click", function(e) {
        if ($(e.target).is("#popup-container-iv") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      $("#popup-container-v").on("click", function(e) {
        if ($(e.target).is("#popup-container-v") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      $("#popup-container-vi").on("click", function(e) {
        if ($(e.target).is("#popup-container-vi") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      $("#popup-container-vii").on("click", function(e) {
        if ($(e.target).is("#popup-container-vii") && !$(e.target).closest(".image-container").length) {
          $(this).fadeOut();
        }
      });
      
      // Make image clickable
      $("#image-container").on("click", function() {
        // Replace with your desired action
        window.open("https://www.rickrosscarshow.com/", "_blank");
      });
      
      $("#image-container-vii").on("click", function() {
        // Replace with your desired action
        window.open("https://orebella.com", "_blank");
      });
      
      $("#image-container-iii").on("click", function() {
        // Replace with your desired action
        window.open("https://www.wildflowercases.com/en-ad", "_blank");
      });
      
      $("#image-container-iv").on("click", function() {
        // Replace with your desired action
        window.open("https://www.ulta.com/p/cosmic-kylie-jenner-eau-de-parfum-pimprod2044205", "_blank");
      });
      
      $("#image-container-v").on("click", function() {
        // Replace with your desired action
        window.open("https://www.khy.com/pages/wardrobe?fbclid=PAY2xjawICrBJleHRuA2FlbQIxMQABpnTcHafMzC6bedRk_jGcKKLw_Qo60ipUANWhcdWC1TORtK4tF7n3YwA15w_aem__Z_2kS8T5xv2979yBkDWaw", "_blank");
      });
      $("#image-container-vi").on("click", function() {
        // Replace with your desired action
        window.open("https://www.skims.com/", "_blank");
      });
      
      $("#image-container-ii").on("click", function() {
        // Replace with your desired action
        window.open("https://eu.louisvuitton.com/eng-e1/new/for-women/prefall-2025/_/N-t1mchpv4?utm_source=instagram&utm_medium=social&utm_campaign=PUBL_WOMENPREFALL25_IG_WW_ENG_AW_20250509_20250510_WOM_PREFALL", "_blank", "_blank");
      });
    });
  </script>
  
  <script>
    // JavaScript code
    const triggerButton = document.getElementById('sharePoetryCard');
    const downloadCards = document.getElementById('download-cards');
    const downloadLinks = document.getElementById('download-links');
    const poetryIndex = document.getElementById('poetryIndex');
    const chapterTitle = document.getElementById('chapterTitle');
    
    
    triggerButton.addEventListener('click', function() {
      downloadCards.style.display = 'block'; // Display the download cards container
      generateDownloadLinks();
    });
    
    
    
    
    function generateDownloadLinks() {
      const index = parseInt(poetryIndex.innerHTML);
      const title = chapterTitle.innerHTML;
      
      downloadLinks.innerHTML = '';
      
      for (let i = 0;; i++) {
        const imageName = `${index}${i > 0 ? `-${i}` : ''}.png`;
        const imageUrl = `../../images/collections/W2W/2/${imageName}`;
        
        const img = new Image();
        img.src = imageUrl;
        if (img.complete || img.width + img.height > 0) {
          const link = document.createElement('a');
          link.href = imageUrl;
          link.download = `${title}-${index}${i > 0 ? `-${i}` : ''}.png`;
          link.id = `downloadPoetryCard-${i}`;
          link.innerHTML = `<i class="fas fa-image"></i> <span>Card ${i > 0 ? i : ''}</span>`;
          downloadLinks.appendChild(link);
        } else {
          break;
        }
      }
    }
    
    triggerButton.addEventListener('click', function() {
      downloadCards.style.display = 'block';
      generateDownloadLinks();
    });
  </script>
  
  
  <script>
    let selectedHtml = '';
    
    
    document.addEventListener('selectionchange', function() {
      const selectedText = window.getSelection().toString();
      const selection = window.getSelection();
      if (selection.rangeCount > 0) {
        selectedHtml = selection.getRangeAt(0).cloneContents().innerHTML;
        const parser = new DOMParser();
        const doc = parser.parseFromString(selectedHtml, 'text/html');
        let textContent = doc.body.textContent;
        
        // Replace double spaces with line breaks
        while (textContent.includes('  ')) {
          textContent = textContent.replace('  ', '\n');
        }
        
        const htmlContent = document.getElementById('htmlContent');
        const range = selection.getRangeAt(0);
        const rect = range.getBoundingClientRect();
        
        if (selectedText && htmlContent.contains(selection.anchorNode) && htmlContent.contains(selection.focusNode) && rect.top >= 0 && rect.bottom <= window.innerHeight) {
          document.getElementById('poetry-card-btn').style.display = 'block';
        } else {
          document.getElementById('poetry-card-btn').style.display = 'none';
        }
      }
    });
    
    document.addEventListener('scroll', function() {
      const selection = window.getSelection();
      const selectedText = selection.toString();
      if (selectedText) {
        const range = selection.getRangeAt(0);
        const rect = range.getBoundingClientRect();
        if (rect.top < 0 || rect.bottom > window.innerHeight) {
          selection.removeAllRanges(); // Unselect the text
          document.getElementById('poetry-card-btn').style.display = 'none';
        }
      }
    });
    
    
    async function generateImage(text) {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      const bgImagePath = '../../images/generator/poetryBGStock.png';
      const bgImage = await loadImage(bgImagePath);
      ctx.drawImage(bgImage, 0, 0, canvas.width, canvas.height);
      
      const chapterTitle = document.getElementById('chapterTitle').textContent;
      ctx.font = '90px "Architects Daughter"';
      ctx.fillStyle = '#1D5457';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText(chapterTitle, canvas.width / 2, 200);
      
      ctx.font = '30px "Architects Daughter"';
      ctx.fillStyle = '#1D5457';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'top';
      ctx.fillText('WEST TO WEST COLLECTION II', canvas.width / 2, 350);
      
      ctx.font = '50px "Architects Daughter"';
      ctx.fillStyle = 'black';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      
      // Split the text into lines
      const lines = text.split('\n');
      
      // Draw each line of text
      let yOffset = 500;
      for (const line of lines) {
        if (yOffset > 1215) break; // Stop drawing text if yOffset exceeds 1215
        ctx.font = '50px "Architects Daughter"';
        ctx.textBaseline = 'middle';
        ctx.fillText(line, canvas.width / 2, yOffset);
        yOffset += 50; // Increment the y-coordinate for each line
      }
      
      const link = document.createElement('a');
      link.href = canvas.toDataURL();
      link.download = 'poetry-card.png';
      link.click();
      
      setTimeout(() => {
        window.getSelection().removeAllRanges();
        document.getElementById('poetry-card-btn').style.display = 'none';
      }, 2000);
    }
    async function loadImage(url) {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.onload = () => resolve(img);
        img.onerror = () => reject(new Error('Failed to load image'));
        img.src = url;
      });
    }
  </script>
  
  
  
  
  <!--===== Main theme script =====-->
  
  <script type="module">
    import { createApp, reactive } from "../../js/petite-vue.js";
    const store = reactive({
      IPAccess: false,
      checkLocation() {
        this.IPAccess = JSON.parse(localStorage.getItem("accessAllowed"));
        return this.IPAccess;
      },
      currentURL: null,
      staticPoemURL: "",
      poemURL: "",
      URLPoemID: 0,
      CopyURLText: "Copy URL",
      currentChapter: 0,
      goBackState: false,
      chapterClickNo: 0,
      audioIsPlaying: false,
      audioContext: null,
      analyser: null,
      frequencyData: null,
      animationFrameId: null,
      lyrics: [],
      playbackData: [],
      currentLyric: null,
      highlightedWords: {},
      audioElement: document.getElementById("audioElement"),
      source: null,
      hiddenLyricsDiv: null,
      playCount: 0,
      isDisabled: false,
      bookName: $('meta[property="og:title"]').attr("content") || "Default Title",
      downloadCards: true,
      poetryCardDownloadDiv: false,
      downloadLinks: [],
      
      
      
      
      getCurrentChapter() {
        if (localStorage.getItem("W2WIICurrentChapter")) {
          this.currentChapter = localStorage.getItem("W2WIICurrentChapter");
        } else if (this.currentChapter == 0) {
          this.currentChapter = this.URLPoemID;
        } else {
          localStorage.removeItem("W2WIICurrentChapter");
        }
      },
      chapterTitle: "",
      getChapterContent() {
        const chapterTitle = this.pageResources().chapterTitles.at(this.currentChapter);
        this.generatePoemURL();
        this.chapterTitle = chapterTitle;
        const chapterContent = this.pageResources().chapters;
        this.audioElement.src = this.pageResources().poetryAudio[this.currentChapter];
        
        fetch(this.pageResources().poetryJson.at(this.currentChapter))
          .then((response) => response.json())
          .then((data) => {
            this.lyrics = data.lyrics;
          });
        return chapterContent.at(this.currentChapter);
      },
      getChapterWords() {
        const chapters = this.pageResources().chapters;
        const chapterContent = chapters.at(this.currentChapter);
        
        const parser = new DOMParser();
        const doc = parser.parseFromString(chapterContent, "text/html");
        const paragraphs = doc.body.getElementsByTagName("p");
        const textContent = Array.from(paragraphs)
          .map((p) => p.textContent)
          .join(" ");
        const words = textContent.split(/\s+|(?<=[.!?])\s* /);
        const filteredWords = words.filter((word) => word.trim() !== "" && word !== "\n");
        
        const wordData = filteredWords.map((word, index) => ({
          id: index + 1,
          text: word,
        }));
        
        wordData.forEach((word) => {
          const matchingWord = this.lyrics.flatMap((lyric) => lyric.words).find((w) => w.id === word.id && w.text === word.text);
          if (matchingWord) {
            word.startTime = matchingWord.startTime;
            word.endTime = matchingWord.endTime;
          }
        });
        
        this.playbackData = wordData;
        
        this.loadPoetryWithAttributes();
      },
      loadPoetryWithAttributes() {
        const paragraphs = document.querySelectorAll("#htmlContent p");
        let wordId = 1;
        paragraphs.forEach((paragraph, index) => {
          Array.from(paragraph.childNodes).forEach((childNode) => {
            if (childNode.nodeType === Node.TEXT_NODE && childNode.textContent.trim() !== "") {
              // Process text nodes as before
              const text = childNode.textContent;
              const words = text.split(/\s+/).filter((word) => word !== "");
              const fragment = document.createDocumentFragment();
              words.forEach((word, wordIndex) => {
                const span = document.createElement("span");
                span.textContent = word;
                span.setAttribute("id", wordId);
                const wordData = this.playbackData.find((data) => data.id === wordId);
                if (wordData) {
                  span.setAttribute("data-start-time", wordData.startTime);
                  span.setAttribute("data-end-time", wordData.endTime);
                }
                fragment.appendChild(span);
                if (wordIndex < words.length - 1) {
                  fragment.appendChild(document.createTextNode(" "));
                }
                wordId++;
              });
              paragraph.replaceChild(fragment, childNode);
            } else if (childNode.nodeType === Node.ELEMENT_NODE) {
              // Handle italic elements
              if (childNode.tagName === "I" || childNode.tagName === "EM") {
                // Get the original text content of the italic element
                const italicText = childNode.textContent;
                // Remove the text content of the italic element
                childNode.textContent = "";
                // Split the italic text into individual words
                const italicWords = italicText.split(/\s+/).filter((word) => word !== "");
                // Create a fragment to hold the italic words
                const italicFragment = document.createDocumentFragment();
                // Process each italic word
                italicWords.forEach((word, wordIndex) => {
                  // Create a span element for the italic word
                  const italicSpan = document.createElement("span");
                  italicSpan.textContent = word;
                  italicSpan.setAttribute("id", wordId);
                  // Get the word data for the italic word
                  const wordData = this.playbackData.find((data) => data.id === wordId);
                  if (wordData) {
                    italicSpan.setAttribute("data-start-time", wordData.startTime);
                    italicSpan.setAttribute("data-end-time", wordData.endTime);
                  }
                  // Append the italic span to the fragment
                  italicFragment.appendChild(italicSpan);
                  if (wordIndex < italicWords.length - 1) {
                    italicFragment.appendChild(document.createTextNode(" "));
                  }
                  wordId++;
                });
                // Append the italic fragment to the child node
                childNode.appendChild(italicFragment);
              } else {
                // Recursively process child nodes as before
                this.processChildNodes(childNode, wordId);
                wordId += Array.from(childNode.childNodes).length;
              }
            }
          });
        });
        const spanElements = document.querySelectorAll("#htmlContent span");
        spanElements.forEach((span) => {
          span.addEventListener("click", () => {
            const startTime = parseFloat(span.getAttribute("data-start-time"));
            this.seekAudioPlayback(startTime);
          });
        });
      },
      processChildNodes(childNode, wordId) {
        Array.from(childNode.childNodes).forEach((grandChildNode) => {
          if (grandChildNode.nodeType === Node.TEXT_NODE && grandChildNode.textContent.trim() !== "") {
            const text = grandChildNode.textContent;
            const words = text.split(/\s+/);
            const fragment = document.createDocumentFragment();
            words.forEach((word, wordIndex) => {
              const span = document.createElement("span");
              span.textContent = word;
              span.setAttribute("id", wordId);
              const wordData = this.playbackData.find((data) => data.id === wordId);
              if (wordData) {
                span.setAttribute("data-start-time", wordData.startTime);
                span.setAttribute("data-end-time", wordData.endTime);
              }
              fragment.appendChild(span);
              if (wordIndex < words.length - 1) {
                fragment.appendChild(document.createTextNode(" "));
              }
              wordId++;
            });
            childNode.replaceChild(fragment, grandChildNode);
          } else if (grandChildNode.nodeType === Node.ELEMENT_NODE) {
            // Recursively process child nodes
            this.processChildNodes(grandChildNode, wordId);
            wordId += Array.from(grandChildNode.childNodes).length;
          }
        });
      },
      seekAudioPlayback(startTime) {
        this.audioElement.currentTime = startTime;
      },
      playback(event) {
        const target = event.target;
        if (target.tagName === "SPAN") {
          const startTime = target.getAttribute("data-start-time");
          const endTime = target.getAttribute("data-end-time");
          // Trigger playback here using the start and end times
          console.log(`Playing from ${startTime} to ${endTime}`);
          // Add your playback logic here
        }
      },
      playPoetry() {
        console.log("playPoetry called");
        this.audioIsPlaying = !this.audioIsPlaying;
        if (this.audioIsPlaying) {
          if (this.playCount === 0) {
            this.getChapterWords();
            this.playCount++;
          }
          this.audioElement.play();
          this.removeHighlighting();
          
          if (!this.analyser) {
            this.initAnalyser();
          } else {
            // Update the analyser and source objects
            this.analyser.disconnect();
            this.source.connect(this.analyser);
            this.analyser.connect(this.audioContext.destination);
          }
          this.updateVisualizer();
        } else {
          this.audioElement.pause();
          this.audioIsPlaying = false;
          cancelAnimationFrame(this.animationFrameId); // Cancel animation frame
          this.resetVisualizer();
          // Switch icon back to play button
          const audioSwitcher = document.getElementById("audioSwitcher");
          audioSwitcher.classList.remove("fa-pause");
          audioSwitcher.classList.add("fa-play");
          this.resetHighlighting();
        }
        // Add event listeners for audio end and pause events
        this.audioElement.addEventListener("ended", () => {
          this.audioIsPlaying = false;
          cancelAnimationFrame(this.animationFrameId); // Cancel animation frame
          this.resetVisualizer();
          // Switch icon back to play button
          const audioSwitcher = document.getElementById("audioSwitcher");
          audioSwitcher.classList.remove("fa-pause");
          audioSwitcher.classList.add("fa-play");
          this.removeHighlighting();
        });
        
        this.audioElement.addEventListener("timeupdate", () => {
          const audioTime = this.audioElement.currentTime;
          this.highlightWords(audioTime);
        });
      },
      resetVisualizer() {
        const audioButton = document.getElementById("audioButton");
        audioButton.style.transform = "scale(1)"; // Reset scale
        audioButton.style.setProperty("--wave-opacity", 0); // Reset glow effect
        this.frequencyData.fill(0); // Reset frequency data
      },
      initAnalyser() {
        if (this.source) {
          this.source.disconnect();
        }
        
        this.audioContext = new AudioContext();
        this.analyser = this.audioContext.createAnalyser();
        this.source = this.audioContext.createMediaElementSource(this.audioElement);
        
        if (!this.source.isConnected) {
          this.source.connect(this.analyser);
          this.analyser.connect(this.audioContext.destination);
        }
        
        this.frequencyData = new Uint8Array(this.analyser.frequencyBinCount);
      },
      updateVisualizer() {
        if (!this.analyser) return;
        this.analyser.getByteFrequencyData(this.frequencyData);
        const spectralCentroid = this.frequencyData.reduce((a, b, i) => a + b * i, 0) / this.frequencyData.reduce((a, b) => a + b, 0);
        const averageFrequency = this.frequencyData.reduce((a, b) => a + b, 0) / this.frequencyData.length;
        const audioButton = document.getElementById("audioButton");
        const scale = 1 + (averageFrequency / 255) * 2; // adjust this value to control the growth rate
        audioButton.style.setProperty("--wave-opacity", spectralCentroid / 1000); // adjust the value to control the sensitivity
        audioButton.style.transform = `scale(${scale})`;
        if (this.audioIsPlaying) {
          this.animationFrameId = requestAnimationFrame(() => this.updateVisualizer());
        }
      },
      updateCurrentLyric(audioTime) {
        const currentLyric = this.lyrics.find((lyric) => lyric.startTime <= audioTime && lyric.endTime >= audioTime);
        if (currentLyric) {
          this.currentLyric = currentLyric;
          this.highlightedWords = {};
          currentLyric.words.forEach((word) => {
            this.highlightedWords[word.text] = true;
            //console.log(`Highlighting word: ${word.text}`);
          });
        }
      },
      highlightWords(audioTime) {
        if (this.audioIsPlaying === false) return; // Do not highlight if audio is paused
        console.log(`Highlighting word at time ${audioTime}`);
        const spanElements = document.querySelectorAll("#htmlContent span");
        spanElements.forEach((span) => {
          const wordText = span.textContent.trim();
          if (wordText === "") return; // Ignore empty words
          const startTime = parseFloat(span.getAttribute("data-start-time"));
          const endTime = parseFloat(span.getAttribute("data-end-time"));
          if (audioTime >= startTime && audioTime < endTime) {
            console.log(`Highlighting word: "${wordText}" (start: ${startTime}, end: ${endTime})`);
            span.classList.add("highlighted");
          } else {
            span.classList.remove("highlighted");
          }
        });
      },
      removeHighlighting() {
        console.log("Removing highlighting...");
        const spanElements = document.querySelectorAll("#htmlContent span");
        spanElements.forEach((span) => {
          span.classList.remove("highlighted");
          span.classList.remove("pauseHighlight");
        });
      },
      resetHighlighting() {
        const highlightedElements = document.querySelectorAll(".highlighted");
        
        highlightedElements.forEach((element) => {
          element.classList.add("pauseHighlight");
          element.classList.remove("highlighted");
        });
      },
      initialPageState: {
        viewW2WII: "chapters",
      },
      pageState: localStorage.getItem("viewW2WII"),
      getPageState() {
        this.decodePoemURL();
        if (this.pageState == "chapters") {
          const state = "chapters";
          localStorage.removeItem("W2WIICurrentChapter");
          return state;
        } else if (this.pageState == "poetry") {
          this.poetryURL();
          this.getCurrentChapter();
          const state = "poetry";
          
          return state;
        } else {
          localStorage.setItem("viewW2WII", this.initialPageState.viewW2WII);
          const state = this.initialPageState.viewW2WII;
          return state;
        }
      },
      setPageState(index) {
        localStorage.setItem("viewW2WII", "poetry");
        location.href = "#reading";
        (this.pageState = localStorage.getItem("viewW2WII")), (this.currentChapter = index);
        localStorage.setItem("W2WIICurrentChapter", this.currentChapter);
        this.chapterClickNo++;
        console.log(this.chapterClickNo);
        if (this.chapterClickNo == 1) {
          $("#popup-container-ii").fadeIn();
        }
        if (this.chapterClickNo == 2) {
          $("#popup-container-iii").fadeIn();
        }
        if (this.chapterClickNo == 3) {
          $("#popup-container-iv").fadeIn();
        }
        if (this.chapterClickNo == 4) {
          $("#popup-container-v").fadeIn();
        }
        if (this.chapterClickNo == 5) {
          $("#popup-container-vi").fadeIn();
        }
        if (this.chapterClickNo == 6) {
          $("#popup-container").fadeIn();
          this.chapterClickNo = 0;
        }
        this.getChapterContent();
      },
      goBack() {
        this.goBackState = true;
        localStorage.setItem("viewW2WII", "chapters");
        this.pageState = localStorage.getItem("viewW2WII");
        this.getPageState();
        this.audioElement.pause();
        this.audioElement.currentTime = 0;
        this.audioIsPlaying = false;
        this.playCount = 0;
        this.resetCardComponent();
      },
      pageResources() {
        return {
          dedication: `<p class="text-center">To <strong style="color: #010521"> Taylor Swift </strong></p>`,
          acknowledgements: `    
    <p>         I don't know if heartbreak breaks slow; the day breaks slowly for me. When I woke up after a long night of missing Taylor Swift, the chappy walls of my room had lost their place.
    </p>
    
    <p>         I'd like to thank my incredible team for laying my worries down to sleep. The wonders of my words wouldn't be found without your vigilant eyes and perceptive hearts. So I believe when the department saves me nine times, the tenth would be the first, since cognate ties don't have a reason for doubling worries.
    </p>
    
            <p>         My acknowledgements go out to Lizzo, Emma Roberts, Rick Ross, Rihanna, Gemma Styles, Abigail Bergstrom, Donatella Versace, Kai Cenat, Dua Lipa, Chlöe Bailey, Megan Thee Stallion, Cindy Kimberly, Tate McRae, Kendall Jenner, Abby Jimenez, Ashley Nicole Moss, Hailee Steinfeld, Kaia Gerber, Hailey Bieber, Khloe Kardashian, Jorja Smith, Beyoncé, Kylie Jenner, Cardi B, Rita Ora, Sofia Wylie, Paris Hilton, Travis Scott, Nicki Minaj, Maya Henry, Nicky Hilton, Rebecca Vallance, Drake, Charli Howard, Veronica Ferraro, Chiara Ferragni, Valentina Ferragni, Katy Perry, Alessandra Ambrosio, Lenny S, Sabrina Carpenter, FaZe Banks, Jessica Alba, Lili Reinhart, BLACKPINK’s Lisa, SZA, Mariam Rod, Julia Fox, Rachel Matthews, Charli XCX, Elena Ora, Kai Trump, Madonna, Stacey Bendet, Madison Beer, Kim Kardashian, Kourtney Kardashian, Hana Mahmood, Tyla, and Addison Rae.
    </p>

    
    <p>         Thank you, Taylor Swift! In a world of all green, I'll party by your side the same, even where it is greener. I love you.
    </p>`,
          authorsNote: [
            ` <img class="img-fluid" src="../../images/collections/W2W/2/TaylorSwift.jpg" alt="Taylor Swift">
            <p class="text-center mt-1"> <span class="fw-bold"> Taylor Swift </span> </p>`,
          ],
          chapterTitles: ["0",
            "Glade Slow Raillery",
            "Selah"
          ],
          
          chapters: [
            `0`,
            
            `<p>Wet grass thirsting in patience</p>
            <p>chatty, yapping how it smells</p>
            <p>whetting, swelling runt stairs</p>
            <p>as if outlining textbook texts </p>
            <p>equivocal just from its stares.</p>`,
            
            `<p>Twilight breathes an early peer</p>
<p>you look into the lake barely there</p>
<p>what points up a reflection wren</p>
<p>deferring the wet blanket. </p>`,
            
            
            
            
            
            
            
            
          ],
          
          poetryAudio: [`0`, `../audio/W2W/2/1.mp3`, `../audio/W2W/2/2.mp3`],
          
          poetryJson: [`0`, `../json/W2W/2/1.json`, `../json/W2W/2/2.json`],
          
          convertIndex(prop) {
            var indexNumber = prop;
            var number = numbered.stringify(indexNumber);
            return number;
          },
        };
      },
      acceptCookieUse() {
        localStorage.setItem("cookieUse", true);
      },
      lastTabW2WII: "",
      coverTabW2WIIIsActive: localStorage.getItem("coverTabW2WIIIsActive"),
      authorTabW2WIIIsActive: localStorage.getItem("authorTabW2WIIIsActive"),
      dedTabW2WIIIsActive: localStorage.getItem("dedTabW2WIIIsActive"),
      chapterTabW2WIIIsActive: localStorage.getItem("chapterTabW2WIIIsActive"),
      navLink: true,
      setCoverW2WIAsTab() {
        this.lastTabW2WII = "Cover";
        localStorage.setItem("lastTabW2WII", this.lastTabW2WII);
        localStorage.setItem("coverTabW2WIIIsActive", true);
        localStorage.setItem("authorTabW2WIIIsActive", false);
        localStorage.setItem("dedTabW2WIIIsActive", false);
        localStorage.setItem("chapterTabW2WIIIsActive", false);
      },
      setAuthorW2WIAsTab() {
        this.lastTabW2WII = "Author";
        localStorage.setItem("lastTabW2WII", this.lastTabW2WII);
        localStorage.setItem("coverTabW2WIIIsActive", false);
        localStorage.setItem("authorTabW2WIIIsActive", true);
        localStorage.setItem("dedTabW2WIIIsActive", false);
        localStorage.setItem("chapterTabW2WIIIsActive", false);
      },
      setDedW2WIAsTab() {
        this.lastTabW2WII = "Dedication";
        localStorage.setItem("lastTabW2WII", this.lastTabW2WII);
        localStorage.setItem("coverTabW2WIIIsActive", false);
        localStorage.setItem("authorTabW2WIIIsActive", false);
        localStorage.setItem("dedTabW2WIIIsActive", true);
        localStorage.setItem("chapterTabW2WIIIsActive", false);
      },
      setChaptersW2WIAsTab() {
        this.lastTabW2WII = "Chapters";
        localStorage.setItem("lastTabW2WII", this.lastTabW2WII);
        localStorage.setItem("coverTabW2WIIIsActive", false);
        localStorage.setItem("authorTabW2WIIIsActive", false);
        localStorage.setItem("dedTabW2WIIIsActive", false);
        localStorage.setItem("chapterTabW2WIIIsActive", true);
      },
      shareToFacebook() {
        this.poetryURL();
        const encodedUrl = encodeURIComponent(this.currentURL);
        const facebookShareLink = `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`;
        window.open(`${facebookShareLink}`, "_blank");
      },
      copyURL() {
        this.CopyURLText = "URL copied to clipboard";
        this.poetryURL();
        navigator.clipboard.writeText(this.currentURL);
        $("#CopyURLText").css("color", "green");
        $("#copyURLIcon").css("color", "green");
        setTimeout(() => {
          $("#CopyURLText").css("color", "#010521");
          $("#copyURLIcon").css("color", "#010521");
          this.CopyURLText = "Copy URL";
        }, 5000);
      },
      shareToWhatsApp() {
        this.poetryURL();
        const message = `${this.chapterTitle.toUpperCase()} is a poem from Frith Hilton's ${this.bookName}`;
        const encodedMessage = encodeURIComponent(message);
        const linkToShare = `whatsapp://send?text=${encodedMessage} ${this.currentURL}`;
        window.open(linkToShare, "_blank");
      },
      shareToX() {
        const message = `${this.chapterTitle.toUpperCase()} is a poem from Frith Hilton's ${this.bookName}`;
        const encodedMessage = encodeURIComponent(message);
        this.poetryURL();
        window.open(`https://twitter.com/intent/tweet?url=${this.currentURL}&text=${encodedMessage}`, "_blank");
      },
      sharePoetryCard() {},
      
      poetryURL() {
        const pageURL = "https://frithhilton.com.ng/share/W2W/II/";
        this.currentURL = pageURL + `${this.currentChapter}.html`;
      },
      loadBookmark() {
        var urlParams = new URLSearchParams(location.search);
      },
      generatePoemURL() {
        var domainName = window.location.origin;
        const queryToAppend = domainName + this.currentURL + "?typeIsPoem" + "&id=" + this.currentChapter;
        this.poemURL = queryToAppend;
      },
      changeTabToChapter() {
        localStorage.setItem("coverTabW2WIIIsActive", false);
        localStorage.setItem("authorTabW2WIIIsActive", false);
        localStorage.setItem("dedTabW2WIIIsActive", false);
        localStorage.setItem("chapterTabW2WIIIsActive", true);
        document.getElementById("pills-integration-tab").click();
      },
      decodePoemURL() {
        if (this.goBackState == true) {
          return;
        } else {
          var bookmarkURL = new URLSearchParams(location.search);
          var getPoemIdFromURL = bookmarkURL.get("id");
          if (bookmarkURL.has("typeIsPoem") && getPoemIdFromURL <= 38) {
            this.changeTabToChapter();
            localStorage.setItem("viewW2WII", "poetry");
            this.pageState = "poetry";
            this.URLPoemID = getPoemIdFromURL;
            this.currentChapter = this.URLPoemID;
            localStorage.setItem("W2WIICurrentChapter", this.currentChapter);
            this.goBackState = false;
          } else if (bookmarkURL.has("typeIsPoem") && getPoemIdFromURL > 5) {
            localStorage.setItem("viewW2WII", this.initialPageState.viewVI);
            window.location.href = window.location.origin + "/pages/not-found.html";
          } else {
            window.location.origin + "/pages/not-found.html";
          }
        }
      },
      generateStaticPoemURL() {
        var domainName = window.location.origin;
        const convertPoemID = this.pageResources().convertIndex(this.currentChapter);
        var shareURL = domainName + "/pages/Hilton/collections/iv/" + convertPoemID + ".html";
        this.staticPoemURL = shareURL;
      },
      goToPublished() {
        window.location.href = "../books.html";
      },
      createPoetryCard() {
        if (this.poetryCardDownloadDiv === true) {
          this.resetCardComponent();
        } else {
          const utilityButtons = document.getElementById('utilityButtons');
          utilityButtons.classList.replace('mb-7', 'mb-3');
          this.poetryCardDownloadDiv = true;
          const chapterTitle = this.chapterTitle;
          const poetryIndex = this.currentChapter;
          const downloadLinksContainer = $('#download-links');
          downloadLinksContainer.empty();
          this.loadImage(poetryIndex, chapterTitle, downloadLinksContainer, 1); // Start with index 1
        }
      },
      
      loadImage(poetryIndex, chapterTitle, downloadLinksContainer, index) {
        let imageName;
        let imageUrl;
        if (index === 1) {
          imageName = `${poetryIndex}.png`;
          imageUrl = `../../images/collections/W2W/2/${imageName}`;
        } else {
          imageName = `${poetryIndex}-${index}.png`;
          imageUrl = `../../images/collections/W2W/2/${imageName}`;
        }
        const img = new Image();
        img.src = imageUrl;
        img.onload = () => {
          const link = {
            href: imageUrl,
            download: `${chapterTitle}-${imageName}`
          };
          this.downloadLinks.push(link);
          this.loadImage(poetryIndex, chapterTitle, downloadLinksContainer, index + 1);
        };
        img.onerror = () => {
          // Stop loading images
        };
      },
      resetCardComponent() {
        this.poetryCardDownloadDiv = false;
        this.downloadLinks = [];
        const downloadLinksContainer = $('#download-links');
        downloadLinksContainer.empty();
        const utilityButtons = document.getElementById('utilityButtons');
        utilityButtons.classList.replace('mb-3', 'mb-7');
      },
      downloadEpub() {
        const path = "published/files/W2W/2/West to West Collection II by Howard Frith Hilton.epub";
        const link = document.createElement('a');
        link.href = path;
        link.download = 'West to West Collection II by Howard Frith Hilton.epub'; // Set the file name for the download
        link.click();
      }
      
      
      
    });
    
    window.store = store;
    
    createApp({
      store,
    }).mount("#ctrlArea");
  </script>
  <script>
    // Get the div element
  </script>
  
  <script>
    window.addEventListener('load', function() {
      console.log(window.store.bookName);
    });
  </script>
  <!--========== 
	End of Javascript ==========-->
</body>

</html>